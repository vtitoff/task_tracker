## 1. Цель проекта

Создать минимально жизнеспособный продукт (MVP) бэкенда для таск-трекера с базовым функционалом:
- Управление задачами с уникальной нумерацией в рамках очередей
- Система комментариев к задачам
- Работа с пользователями (авторы, исполнители, наблюдатели)
- Гибкая классификация через теги и статусы

---

## 2. Функциональные требования

### 2.1. Основные сущности
| Сущность       | Описание                                                                 |
|----------------|-------------------------------------------------------------------------|
| **Задача**     | Основная единица системы. Содержит тему, описание, связи с пользователями |
| **Очередь**    | Группа задач с уникальным ключом (например, "PROJ")                      |
| **Тег**        | Метка для категоризации задач ("баг", "фича")                            |
| **Статус**     | Этап жизненного цикла задачи ("В работе", "Готово")                      |
| **Пользователь**| Участник системы с ролью автора/исполнителя/наблюдателя                 |
| **Комментарий**| Текстовое сообщение, привязанное к задаче                               |

### 2.2. Обязательные функции
#### Для задач:
- Создание/редактирование/удаление
- Назначение исполнителя и наблюдателей
- Добавление/удаление тегов
- Изменение статуса
- Автоматическая генерация ключа задачи (КЛЮЧ_ОЧЕРЕДИ-НОМЕР)
- Фильтрация по: очереди, тегам, статусу, исполнителю, автору
- Добавление комментариев

#### Для комментариев:
- Создание/редактирование/удаление (только автор)
- Просмотр в хронологическом порядке

#### Для очередей:
- Создание/редактирование/удаление
- Просмотр списка задач в очереди

#### Для пользователей:
- Регистрация и аутентификация (JWT)
- Просмотр своих задач (автор/исполнитель)

---

## 3. API Endpoints (RESTful)

### 3.1. Аутентификация
| Метод | Endpoint                | Действие               |
|-------|-------------------------|------------------------|
| POST  | `/api/auth/register`    | Регистрация            |
| POST  | `/api/auth/login`       | Вход                   |
| POST  | `/api/auth/refresh`     | Обновление токена      |

### 3.2. Задачи
| Метод | Endpoint                     | Действие                             |
|-------|-----------------------------|--------------------------------------|
| GET   | `/api/tasks/`               | Список задач (с фильтрами)           |
| POST  | `/api/tasks/`               | Создать задачу                       |
| GET   | `/api/tasks/{task_key}/`    | Получить задачу по ключу             |
| PUT   | `/api/tasks/{task_key}/`    | Обновить задачу                      |
| DELETE| `/api/tasks/{task_key}/`    | Удалить задачу                       |

### 3.3. Очереди
| Метод | Endpoint             | Действие                     |
|-------|---------------------|-----------------------------|
| GET   | `/api/queues/`      | Список очередей             |
| POST  | `/api/queues/`      | Создать очередь             |
| GET   | `/api/queues/{id}/` | Получить очередь с задачами |

### 3.4. Комментарии
| Метод | Endpoint                                 | Действие                                  |
|-------|-----------------------------------------|-------------------------------------------|
| GET   | `/api/tasks/{task_key}/comments/`       | Получить все комментарии задачи           |
| POST  | `/api/tasks/{task_key}/comments/`       | Создать комментарий                       |
| PATCH | `/api/tasks/{task_key}/comments/{id}/`  | Обновить комментарий (только автор)       |
| DELETE| `/api/tasks/{task_key}/comments/{id}/`  | Удалить комментарий (только автор)        |

### 3.5. Теги и статусы
- `GET /api/tags/` – список всех тегов  
- `POST /api/tags/` – создать тег  
- Аналогичные endpoints для статусов.
